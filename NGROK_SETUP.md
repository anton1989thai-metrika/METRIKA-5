# üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ngrok –¥–ª—è METRIKA-5

Ngrok –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π —Ç—É–Ω–Ω–µ–ª—å –∫ –≤–∞—à–µ–º—É –ª–æ–∫–∞–ª—å–Ω–æ–º—É Next.js —Å–µ—Ä–≤–µ—Ä—É.

## üìã –®–∞–≥ 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ (–æ–¥–∏–Ω —Ä–∞–∑)

1. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ ngrok:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ https://dashboard.ngrok.com
   - –°–æ–∑–¥–∞–π—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç

2. **–ü–æ–ª—É—á–∏—Ç–µ authtoken:**
   - –ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ: https://dashboard.ngrok.com/get-started/your-authtoken
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞—à —Ç–æ–∫–µ–Ω

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ ngrok:**
   ```bash
   ngrok config add-authtoken –í–ê–®_–¢–û–ö–ï–ù
   ```

‚úÖ –ì–æ—Ç–æ–≤–æ! Ngrok –Ω–∞—Å—Ç—Ä–æ–µ–Ω.

---

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –¢–æ–ª—å–∫–æ ngrok (–µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä —É–∂–µ –∑–∞–ø—É—â–µ–Ω)

–ï—Å–ª–∏ Next.js dev-—Å–µ—Ä–≤–µ—Ä —É–∂–µ –∑–∞–ø—É—â–µ–Ω (`npm run dev`):

```bash
npm run ngrok
# –∏–ª–∏
./start-ngrok.sh
```

Ngrok —Å–æ–∑–¥–∞—Å—Ç —Ç—É–Ω–Ω–µ–ª—å –Ω–∞ –ø–æ—Ä—Ç 3000 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).

**–ò–ª–∏ –¥–ª—è –¥—Ä—É–≥–æ–≥–æ –ø–æ—Ä—Ç–∞:**
```bash
./start-ngrok.sh 8080
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ó–∞–ø—É—Å–∫ Next.js + ngrok –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ó–∞–ø—É—Å–∫–∞–µ—Ç –æ–±–∞ —Å–µ—Ä–≤–µ—Ä–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ:

```bash
npm run dev:ngrok
# –∏–ª–∏
./start-dev-with-ngrok.sh
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
- ‚úÖ –ó–∞–ø—É—Å–∫–∞–µ—Ç Next.js dev-—Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 3000
- ‚úÖ –ó–∞–ø—É—Å–∫–∞–µ—Ç ngrok —Ç—É–Ω–Ω–µ–ª—å –∫ —ç—Ç–æ–º—É –ø–æ—Ä—Ç—É
- ‚úÖ –û–±–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –≤–º–µ—Å—Ç–µ
- ‚úÖ –û—Å—Ç–∞–Ω–æ–≤–∫–∞: Ctrl+C (–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –æ–±–∞)

---

## üìä –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–¥—Ä–µ—Å–∞ —Ç—É–Ω–Ω–µ–ª—è

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ ngrok –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

```
http://127.0.0.1:4040
```

–ó–¥–µ—Å—å –≤—ã —É–≤–∏–¥–∏—Ç–µ:
- üåê –ü—É–±–ª–∏—á–Ω—ã–π HTTPS –∞–¥—Ä–µ—Å —Ç—É–Ω–Ω–µ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://abc123.ngrok-free.app`)
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞–ø—Ä–æ—Å–æ–≤
- üîç –ò–Ω—Å–ø–µ–∫—Ç–æ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤

---

## üîó –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∞–¥—Ä–µ—Å–∞

–ü–æ–ª—É—á–µ–Ω–Ω—ã–π –∞–¥—Ä–µ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://abc123.ngrok-free.app`) –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è:

1. **–î–æ—Å—Ç—É–ø–∞ –∫ —Å–∞–π—Ç—É –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞**
   - –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å—Å—ã–ª–∫–æ–π —Å –∫–æ–ª–ª–µ–≥–∞–º–∏
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è OAuth/Webhooks**
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ callback URL –≤ —Å–æ—Ü. —Å–µ—Ç—è—Ö: `https://abc123.ngrok-free.app/api/auth/callback/google`
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ webhook'–∏: `https://abc123.ngrok-free.app/api/webhook`

3. **–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Å–∞–π—Ç–∞**
   - –ü–æ–∫–∞–∂–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç—É –ª–æ–∫–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è NextAuth/OAuth

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ NextAuth —Å OAuth –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ ngrok:**
   ```bash
   npm run ngrok
   ```

2. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ HTTPS –∞–¥—Ä–µ—Å** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://abc123.ngrok-free.app`)

3. **–î–æ–±–∞–≤—å—Ç–µ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è `.env.local`:**
   ```env
   NEXTAUTH_URL=https://abc123.ngrok-free.app
   NEXT_PUBLIC_APP_URL=https://abc123.ngrok-free.app
   ```

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ OAuth –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞:**
   - Google: –¥–æ–±–∞–≤—å—Ç–µ callback URL: `https://abc123.ngrok-free.app/api/auth/callback/google`
   - GitHub: –¥–æ–±–∞–≤—å—Ç–µ callback URL: `https://abc123.ngrok-free.app/api/auth/callback/github`

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –ü—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ ngrok —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –∞–¥—Ä–µ—Å (–≤ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–∏). –ù—É–∂–Ω–æ –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ OAuth.

---

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é ngrok
ngrok version

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç—É—Å
ngrok api tunnels list

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
ngrok config check

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å ngrok
pkill ngrok
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–Ω–∏–º–∞–Ω–∏–µ:**
- Ngrok –¥–µ–ª–∞–µ—Ç –≤–∞—à –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–Ω—ã–º –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ –Ω–∞ –Ω—ë–º —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –¥–æ—Å—Ç—É–ø–æ–º

---

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

**–ü—Ä–æ–±–ª–µ–º–∞:** "authtoken required"
```bash
# –†–µ—à–µ–Ω–∏–µ: –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç–æ–∫–µ–Ω
ngrok config add-authtoken –í–ê–®_–¢–û–ö–ï–ù
```

**–ü—Ä–æ–±–ª–µ–º–∞:** "port already in use"
```bash
# –†–µ—à–µ–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç
./start-ngrok.sh 3001
```

**–ü—Ä–æ–±–ª–µ–º–∞:** "address already in use"
```bash
# –†–µ—à–µ–Ω–∏–µ: –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å—Ç–∞—Ä—ã–π ngrok
pkill ngrok
```

---

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–µ —Ç—É–Ω–Ω–µ–ª–∏ –∫ –ª–æ–∫–∞–ª—å–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É! üéâ

